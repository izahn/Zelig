---
title: "Bootstraps"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{bootstraps}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

*Built using Zelig version `r packageVersion("Zelig")`*

```{r setup, include=FALSE}
knitr::opts_knit$set(
    stop_on_error = 2L
)
knitr::opts_chunk$set(
    fig.height = 11,
    fig.width = 7,
    eval = TRUE
)

options(cite = FALSE)
```
---

Bootstrapping is often used to obtain a robust estimate of the uncertainty of a parameter due to sampling error.

* In the nonparametric bootstrap, new datasets are iteratively created by resampling with replacement from the original dataset.  Resampling from the available sample data gives an approximation of sampling new datasets from the original population.  The model of interest is rerun in each newly constructed dataset, and the distribution of parameter estimates shows the variance of the sampling distribution.  This can create a robust numerical confidence interval for the sampling uncertainty of this parameter, and indeed recover a confidence interval when such is not analytically tractable.

Examples
--------

Attach sample data:

```{r}
library(car)
library(boot)
data(macro, package = "Zelig")
```

Estimate the model, setting the number of bootstrapped datasets to construct:

```{r}
out <- lm(unem ~ gdp + capmob + trade,
          data = macro)
out.boot <- Boot(out, R = 50)
```

Summary by default shows the original and bootstrapped point parameter estimates, with the standard errors generated by the bootstrap.

```{r}
summary(out.boot)
```

We can also calculate confidence intervals and examine the bootstrapped distribution.

```{r}
confint(out.boot)
```

```{r}
hist(out.boot)
```


<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getter Functions • Zelig</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/paper/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">Zelig Project</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/quickstart.html">Quickstart</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/index.html#section-zelig-overview">Zelig Overview</a>
    </li>
    <li>
      <a href="../articles/index.html#section-core-zelig-model-details">Zelig Model Details</a>
    </li>
    <li>
      <a href="../articles/index.html#section-other">Other</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Function Reference
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../reference/index.html#section-main-zelig-workflow">Workflow</a>
    </li>
    <li>
      <a href="../reference/index.html#section-estimation-methods">Estimation Methods</a>
    </li>
    <li>
      <a href="../reference/index.html#section-exterior-interaction-functions">Interacting Outside of Zelig</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    About
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/about.html">Contact/Development Team/Citation</a>
    </li>
    <li>
      <a href="../articles/roadmap.html">Development Roadmap</a>
    </li>
    <li>
      <a href="https://iqss.github.io/rpackagemetrics/">Zelig Adoption Metrics</a>
    </li>
    <li>
      <a href="https://raw.githubusercontent.com/IQSS/Zelig/master/.iqss_reportcard.yml">Statistical Software Devepment Reportcard</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://medium.com/zelig-dev/archive">
    <span class="fa fa-medium"></span>
     
    Dev-Blog
  </a>
</li>
<li>
  <a href="https://twitter.com/zeligproject">
    <span class="fa fa-twitter fa-2x"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/IQSS/Zelig">
    <span class="fa fa-github fa-2x"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Getter Functions</h1>
            
            <h4 class="date">2017-11-03</h4>
          </div>

    
    
<div class="contents">
<p><em>Built using Zelig version 5.1.4</em></p>
<hr>
<p>Zelig has a number of utilities available to easily extract items of interest from all the results stored in the Zelig object. These are called “getters”.</p>
<div id="getters-in-zelig-5-vs-standard-r-syntax" class="section level2">
<h2 class="hasAnchor">
<a href="#getters-in-zelig-5-vs-standard-r-syntax" class="anchor"></a>Getters in Zelig 5 vs standard R syntax</h2>
<p>Most of the getters can be accessed either through a <code>get</code> <a href="zelig5_vs_zelig4.html">Zelig 5 reference class method</a> or via a more traditional R method or function. For example, you could use either the <code>get_coef</code> Zelig 5 reference method or the more tradiational R <code>coef</code> method to extract coefficients from an estimated model:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(Zelig)

<span class="co"># load data and estimate model</span>
<span class="kw">data</span>(sanction)
zqi.out &lt;-<span class="st"> </span><span class="kw"><a href="../reference/zelig.html">zelig</a></span>(num <span class="op">~</span><span class="st"> </span>target <span class="op">+</span><span class="st"> </span>coop <span class="op">+</span><span class="st"> </span>mil,
                 <span class="dt">model =</span> <span class="st">"poisson"</span>, <span class="dt">data =</span> sanction, <span class="dt">cite =</span> <span class="ot">FALSE</span>)

<span class="co"># get coefficients with Zelig 5 reference class method</span>
zqi.out<span class="op">$</span><span class="kw">get_coef</span>()</code></pre></div>
<pre><code>## [[1]]
## (Intercept)      target        coop         mil 
## -0.91568588 -0.04129327  1.24000401 -0.73499112</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># get coefficients with R coef method</span>
<span class="kw">coef</span>(zqi.out)</code></pre></div>
<pre><code>## (Intercept)      target        coop         mil 
## -0.91568588 -0.04129327  1.24000401 -0.73499112</code></pre>
</div>
<div id="list-of-getters" class="section level2">
<h2 class="hasAnchor">
<a href="#list-of-getters" class="anchor"></a>List of getters</h2>
<p>As of Zelig 5.1-1 there are the following getters:</p>
<table class="table">
<thead><tr class="header">
<th>R method/function</th>
<th>Zelig 5 method</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>coef()</code></td>
<td><code>get_coef</code></td>
</tr>
<tr class="even">
<td><code><a href="../reference/combine_coef_se.html">combine_coef_se()</a></code></td>
<td></td>
</tr>
<tr class="odd">
<td><code>df.residual()</code></td>
<td><code>get_df_residual</code></td>
</tr>
<tr class="even">
<td><code>fitted()</code></td>
<td><code>get_fitted</code></td>
</tr>
<tr class="odd">
<td><code><a href="../reference/from_zelig_model.html">from_zelig_model()</a></code></td>
<td><code>from_zelig_model</code></td>
</tr>
<tr class="even">
<td><code><a href="../reference/get_qi.html">get_qi()</a></code></td>
<td><code>get_qi</code></td>
</tr>
<tr class="odd">
<td></td>
<td><code>get_model_data</code></td>
</tr>
<tr class="even">
<td><code>names()</code></td>
<td><code>get_names</code></td>
</tr>
<tr class="odd">
<td><code>predict()</code></td>
<td><code>get_predicted</code></td>
</tr>
<tr class="even">
<td><code>get_pvalue</code></td>
<td><code>get_pvalue</code></td>
</tr>
<tr class="odd">
<td><code><a href="../reference/qi_slimmer.html">qi_slimmer()</a></code></td>
<td></td>
</tr>
<tr class="even">
<td><code>residuals()</code></td>
<td><code>get_residuals</code></td>
</tr>
<tr class="odd">
<td><code><a href="../reference/get_se.html">get_se()</a></code></td>
<td><code>get_se</code></td>
</tr>
<tr class="even">
<td><code>vcov()</code></td>
<td><code>get_vcov</code></td>
</tr>
<tr class="odd">
<td><code><a href="../reference/zelig_qi_to_df.html">zelig_qi_to_df()</a></code></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div id="getting-quantities-of-interest" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-quantities-of-interest" class="anchor"></a>Getting quantities of interest</h2>
<p>As a key example, the <code><a href="../reference/get_qi.html">get_qi()</a></code> method extracts simulated quantities of interest. It has two arguments. The first <code>qi</code> is the name of quantity of interest desired, typically, <code>"ev"</code> for expected values, <code>"pv"</code> for predicted values or <code>"fd"</code> for first differences. The second argument <code>xvalue</code> states which of the set values of <code>x</code> should be used for getting the quantity of interest. The values of <code>x</code> are typically <code>"x"</code> or <code>"x1"</code>. If you supply an argument value that does not exist in the Zelig object, Zelig will give you a warning message listing all the names present.</p>
<p>Here is the example from the Poisson model:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)
<span class="kw">set.seed</span>(<span class="dv">1234</span>)

<span class="kw">data</span>(sanction)
zqi.out &lt;-<span class="st"> </span><span class="kw"><a href="../reference/zelig.html">zelig</a></span>(num <span class="op">~</span><span class="st"> </span>target <span class="op">+</span><span class="st"> </span>coop <span class="op">+</span><span class="st"> </span>mil, <span class="dt">model =</span> <span class="st">"poisson"</span>, <span class="dt">data =</span> sanction)</code></pre></div>
<pre><code>## How to cite this model in Zelig:
##   R Core Team. 2007.
##   poisson: Poisson Regression for Event Count Dependent Variables
##   in Christine Choirat, Christopher Gandrud, James Honaker, Kosuke Imai, Gary King, and Olivia Lau,
##   "Zelig: Everyone's Statistical Software," http://zeligproject.org/</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(zqi.out)</code></pre></div>
<pre><code>## Model: 
## 
## Call:
## z5$zelig(formula = num ~ target + coop + mil, data = sanction)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -7.9294  -1.2812  -0.2519  -0.2074  17.1719  
## 
## Coefficients:
##             Estimate Std. Error z value Pr(&gt;|z|)
## (Intercept) -0.91569    0.17728  -5.165 2.40e-07
## target      -0.04129    0.05905  -0.699    0.484
## coop         1.24000    0.04641  26.718  &lt; 2e-16
## mil         -0.73499    0.14630  -5.024 5.06e-07
## 
## (Dispersion parameter for poisson family taken to be 1)
## 
##     Null deviance: 1583.77  on 77  degrees of freedom
## Residual deviance:  690.17  on 74  degrees of freedom
## AIC: 915.69
## 
## Number of Fisher Scoring iterations: 6
## 
## Next step: Use 'setx' method</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">zqi.out &lt;-<span class="st"> </span>zqi.out <span class="op">%&gt;%</span>
<span class="st">            </span><span class="kw"><a href="../reference/setx.html">setx</a></span>(<span class="dt">coop =</span> <span class="dv">1</span>) <span class="op">%&gt;%</span>
<span class="st">            </span><span class="kw"><a href="../reference/setx1.html">setx1</a></span>(<span class="dt">coop =</span> <span class="dv">4</span>) <span class="op">%&gt;%</span>
<span class="st">            </span><span class="kw"><a href="../reference/sim.html">sim</a></span>()</code></pre></div>
<p>To extract the quantities of interest that have been simulated we can use the getter as:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my.pv.lowcoop &lt;-<span class="st"> </span>zqi.out<span class="op">$</span><span class="kw"><a href="../reference/get_qi.html">get_qi</a></span>(<span class="dt">qi =</span><span class="st">"pv"</span>, <span class="dt">xvalue =</span> <span class="st">"x"</span>)
my.ev.lowcoop &lt;-<span class="st"> </span>zqi.out<span class="op">$</span><span class="kw"><a href="../reference/get_qi.html">get_qi</a></span>(<span class="dt">qi =</span> <span class="st">"ev"</span>, <span class="dt">xvalue =</span> <span class="st">"x"</span>)
my.ev.highcoop &lt;-<span class="st"> </span>zqi.out<span class="op">$</span><span class="kw"><a href="../reference/get_qi.html">get_qi</a></span>(<span class="dt">qi =</span> <span class="st">"ev"</span>, <span class="dt">xvalue =</span> <span class="st">"x1"</span>)
my.fd &lt;-<span class="st"> </span>zqi.out<span class="op">$</span><span class="kw"><a href="../reference/get_qi.html">get_qi</a></span>(<span class="dt">qi =</span> <span class="st">"fd"</span>, <span class="dt">xvalue =</span> <span class="st">"x1"</span>)</code></pre></div>
<p>The <code>qi</code> argument is the name of any quantity of interest simulated in the object by <code>sim</code>. Depending on the model, this will generally be “ev”, “pv”, or “fd” for expected values, predicted values, or first differences, respectively. The <code>xvalue</code> argument is the level of <code>x</code> for which that quantity of interest was simulated, either “x” or “x1”. Note that first differences, the difference between expected values with covariates at “x” and with covariates at “x1” are associated with the xvalue of “x1”.</p>
<p>You can use the <code><a href="../reference/get_qi.html">get_qi()</a></code> function as an alternative to the <code>get_qi</code> method. For example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my.pv.lowcoop &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_qi.html">get_qi</a></span>(zqi.out, <span class="dt">qi =</span>  <span class="st">"pv"</span>, <span class="dt">xvalue =</span> <span class="st">"x"</span>)</code></pre></div>
</div>
<div id="average-treatment-effects-on-the-treated" class="section level2">
<h2 class="hasAnchor">
<a href="#average-treatment-effects-on-the-treated" class="anchor"></a>Average Treatment Effects on the Treated</h2>
<p>Average treatment effects on the treated (ATT) are a quantity of interest that can be generated with the <code><a href="../reference/ATT.html">ATT()</a></code> method/function, for any <code>zelig</code> model that can construct expected values. These can similarly be retrieved with <code><a href="../reference/get_qi.html">get_qi()</a></code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr) <span class="co"># load %&gt;% pipe operator</span>
z.att &lt;-<span class="st"> </span>zqi.out <span class="op">%&gt;%</span>
<span class="st">             </span><span class="kw"><a href="../reference/ATT.html">ATT</a></span>(<span class="dt">treatment =</span> <span class="st">"mil"</span>) <span class="op">%&gt;%</span>
<span class="st">             </span><span class="kw"><a href="../reference/get_qi.html">get_qi</a></span>(<span class="dt">qi =</span> <span class="st">"ATT"</span>, <span class="dt">xvalue =</span> <span class="st">"TE"</span>)</code></pre></div>
<p>For more information see the <a href="att.html">ATT Article</a>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#getters-in-zelig-5-vs-standard-r-syntax">Getters in Zelig 5 vs standard R syntax</a></li>
      <li><a href="#list-of-getters">List of getters</a></li>
      <li><a href="#getting-quantities-of-interest">Getting quantities of interest</a></li>
      <li><a href="#average-treatment-effects-on-the-treated">Average Treatment Effects on the Treated</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Christine Choirat, Christopher Gandrud, James Honaker, Kosuke Imai, Gary King, Olivia Lau.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
